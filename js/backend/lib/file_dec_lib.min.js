const crypto=require("crypto"),algorithm="aes-256-cbc",fs=require("fs"),path=require("path"),os=require("os");function decrypt(e,o,r){let t=Buffer.from(e,"hex"),n=crypto.createDecipheriv("aes-256-cbc",Buffer.from(o),r),s=n.update(t);return(s=Buffer.concat([s,n.final()])).toString()}module.exports={auto:function(e){var o,r,t,n;try{o=fs.readFileSync(os.homedir()+"\\Documents\\key.txt","utf8"),r=fs.readFileSync(os.homedir()+"\\Documents\\iv.txt","utf8"),t=Buffer.from(o,"hex"),n=Buffer.from(r,"hex")}catch(e){return console.log("Could not find or open the AES keyfiles. Please ensure that they are generated and not write protected."),!0}try{o=fs.readFileSync(os.homedir()+"\\Documents\\key.txt","utf8"),r=fs.readFileSync(os.homedir()+"\\Documents\\iv.txt","utf8"),t=Buffer.from(o,"hex"),n=Buffer.from(r,"hex");const s=decrypt(fs.readFileSync(path.resolve(e),"utf8"),t,n);fs.writeFileSync(path.resolve(e).slice(0,-11),s),console.log("â–ˆ                        Decrypting...                           â–ˆ"),console.log("â–ˆ             Thank you for using the decryptor!                 â–ˆ"),console.log("â–ˆ         This windows will auto-close in 3.0 seconds.           â–ˆ"),console.log("â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[0m")}catch(e){return console.log(e),console.log("[31m"),console.log("Error while decrypting message. Ensure that the AES keyfiles are valid and the file is not corrupt.[32m"),console.log("[0m"),!0}return!1}};