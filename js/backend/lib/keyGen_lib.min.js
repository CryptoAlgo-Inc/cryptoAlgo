const{writeFile:writeFile}=require("fs");const{generateKeyPair:generateKeyPair}=require("crypto");const os=require("os");async function generateKeys(len,pass){return{pri:privateKey,pub:publicKey}}module.exports={auto:async function(modLength,password,location){const{privateKey:privateKey,publicKey:publicKey}=await generateKeyPair("rsa",{modulusLength:modLength,publicKeyEncoding:{type:"pkcs1",format:"pem"},privateKeyEncoding:{type:"pkcs1",format:"pem",cipher:"aes-256-cbc",passphrase:password}},function(err){if(err){console.error(err);return 3}const regex=/.pem$/gm;writeFile(location.replace(regex,`-pri.pem`),privateKey,function(err){if(err){console.error(err);return 2}writeFile(location.replace(regex,`-pub.pem`),publicKey,function(err){if(err){console.error(err);return 1}else return 0})})})}};