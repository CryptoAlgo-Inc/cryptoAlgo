const crypto=require("crypto"),algorithm="aes-256-cbc",fs=require("fs"),path=require("path"),os=require("os");function decrypt(e,r,t){let o=Buffer.from(e,"hex"),c=crypto.createDecipheriv("aes-256-cbc",Buffer.from(r),t),f=c.update(o);return(f=Buffer.concat([f,c.final()])).toString()}module.exports={auto:function(e){try{const e=fs.readFileSync(os.homedir()+"\\Documents\\key.txt","utf8"),r=fs.readFileSync(os.homedir()+"\\Documents\\iv.txt","utf8");Buffer.from(e,"hex"),Buffer.from(r,"hex")}catch(e){return console.log("Errors were encountered."),!0}try{const r=fs.readFileSync(os.homedir()+"\\Documents\\key.txt","utf8"),t=fs.readFileSync(os.homedir()+"\\Documents\\iv.txt","utf8");return decrypt(e,Buffer.from(r,"hex"),Buffer.from(t,"hex")).slice(8,-8)}catch(e){return console.log(e),console.log("Error while decrypting message. Ensure that the AES keyfiles are valid and the encrypted message is not corrupted."),!0}}};