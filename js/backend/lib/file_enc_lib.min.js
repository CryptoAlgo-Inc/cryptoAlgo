const crypto=require("crypto"),{readFile:readFile}=require("fs").promises,{writeFile:writeFile}=require("fs");module.exports={encrypt:async function(e,r,t){const i=await readFile(e,{encoding:null}),n=await readFile(t,{encoding:"utf8"}),o=Buffer.from(n,"base64"),c=crypto.randomBytes(16);let a;try{a=crypto.createCipheriv("aes-256-cbc",o,c)}catch(e){return!0}let l=a.update(i);l=Buffer.concat([l,a.final()]),writeFile(r,l.toString("base64")+c.toString("base64"),function(e){return e&&console.error(e),!!e})}};