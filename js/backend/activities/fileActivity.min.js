function $(e){return document.getElementById(e)}function q(e){return document.querySelector(e)}function showSnackbar(e,l=5e3){const n=q(".mdc-snackbar").MDCSnackbar;n.labelText=e,n.timeoutMs=l,n.open()}async function onStart(){console.log("<fileCrypto> Started activity");let e=null,l=null,n=null;$("selInput").onclick=(()=>{window.fileOps.fileOpen("Select Input File","Select File",["openFile"],[{name:"All Files",extensions:["*"]},{name:"Encrypted Files",extensions:["crypted"]}]).then(l=>{l.canceled?showSnackbar("File picker canceled"):(e=l.filePaths[0],console.log("<fileCrypto> Selected input file",e))})}),$("selKeyfile").onclick=(()=>{window.fileOps.fileOpen("Select AES Keyfile","Select Keyfile",["openFile"],[{name:"AES Keyfiles",extensions:["aKey"]}]).then(e=>{e.canceled?showSnackbar("File picker canceled"):(l=e.filePaths[0],console.log("<fileCrypto> Selected keyfile",l))})}),$("selOut").onclick=(()=>{window.fileOps.filePick("Select Output File","Output file name: ",[],[{name:"Output file",extensions:["hm"]}]).then(e=>{e.canceled?showSnackbar("File picker canceled"):(n=e.filePath,console.log("<fileCrypto> Selected output file",n))})}),$("encButton").onclick=(()=>{null!=e?null!=l?null!=n?window.fileCrypto.encrypt(e,n,l).then(l=>{l?showSnackbar("Encryption of file failed. Please check that keyfiles are valid and input file is readable."):(showSnackbar(`Successfully encrypted file ${e}`),console.debug("<fileCrypto:encrypt> Encrypted one file:",e,"Saved at:",n))}):showSnackbar("Output file is not selected"):showSnackbar("Keyfile is not selected"):showSnackbar("Input file is not selected")}),$("decButton").onclick=(()=>{null!=e?null!=l?null!=n?window.fileCrypto.decrypt(e,n,l).then(l=>{l?showSnackbar("Encryption of file failed. Please check that keyfiles are valid and input file is readable."):(showSnackbar(`Successfully encrypted file ${e}`),console.debug("<fileCrypto:encrypt> Encrypted one file:",e,"Saved at:",n))}):showSnackbar("Output file is not selected"):showSnackbar("Keyfile is not selected"):showSnackbar("Input file is not selected")})}function onStop(){console.log("<fileCrypto> Stopped activity file")}