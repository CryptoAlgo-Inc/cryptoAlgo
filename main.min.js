const contextMenu=require("electron-context-menu"),path=require("path"),{app:app,BrowserWindow:BrowserWindow,session:session}=require("electron");function createWindow(){const e=new BrowserWindow({width:800,height:600,minWidth:350,minHeight:500,backgroundColor:"#000",frame:!1,show:!1,maximizable:!0,webPreferences:{spellcheck:!0,enableRemoteModule:!0,contextIsolation:!0,preload:path.join(app.getAppPath(),"preload.js")}});e.setMenuBarVisibility(!1),e.webContents.session.webRequest.onBeforeSendHeaders({urls:["*://*/*"]},(e,o)=>{o({requestHeaders:{...e.requestHeaders,Referer:"https:/ /www.youtube-nocookie.com"}})}),e.webContents.session.webRequest.onHeadersReceived({urls:["*://*/*"]},(e,o)=>{e.responseHeaders["X-Frame-Options"]?delete e.responseHeaders["X-Frame-Options"]:e.responseHeaders["x-frame-options"]&&delete e.responseHeaders["x-frame-options"],o({cancel:!1,responseHeaders:e.responseHeaders})}),e.loadFile("index.html").catch(e=>console.error(e)),e.once("ready-to-show",()=>{e.show()})}contextMenu({showInspectElement:!1}),app.allowRendererProcessReuse=!0,app.whenReady().then(createWindow),app.on("window-all-closed",function(){"darwin"!==process.platform&&app.quit()}),app.on("activate",function(){0===BrowserWindow.getAllWindows().length&&createWindow()});